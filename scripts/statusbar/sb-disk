#!/bin/sh
# Disk space — status2d purple (#d3869b)

location=${1:-/}
btn="${BUTTON:-${BLOCK_BUTTON:-0}}"

[ -d "$location" ] || exit

case "$btn" in
	1) notify-send "󰋊 Disk space" "$(df -h --output=target,used,size)" ;;
	3) notify-send "󰋊 Disk" "Click: show all disk info" ;;
	6) setsid -f "$TERMINAL" -e "$EDITOR" "$0" ;;
esac

printf "^c#d3869b^󰋊 %s^d^" "$(df -h "$location" | awk '/[0-9]/{print $3 "/" $2}')"
